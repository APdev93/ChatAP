<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Chat AP</title>
		<meta
			name="description"
			content="platform web chat AI yang dirancang untuk memberikan pengalaman komunikasi yang interaktif dan intuitif kepada pengguna. Dengan menggunakan teknologi kecerdasan buatan, ChatAP dapat memahami pertanyaan pengguna dan memberikan jawaban yang relevan serta solusi yang tepat. Dengan antarmuka yang ramah pengguna, ChatAP memungkinkan pengguna untuk berinteraksi dengan AI dengan mudah dan efisien. Dengan fitur-fitur canggih seperti analisis bahasa alami dan pemahaman konteks, ChatAP dapat memberikan layanan yang personal dan responsif. Dengan ChatAP, pengguna dapat dengan mudah mendapatkan informasi, bantuan, dan dukungan kapan pun dan di mana pun secara instan." />
		<meta property="og:title" content="Tanya ChatAP apa saja.." />
		<meta
			property="og:description"
			content="platform web chat AI yang dirancang untuk memberikan pengalaman komunikasi yang interaktif dan intuitif kepada pengguna. Dengan menggunakan teknologi kecerdasan buatan, ChatAP dapat memahami pertanyaan pengguna dan memberikan jawaban yang relevan serta solusi yang tepat. Dengan antarmuka yang ramah pengguna, ChatAP memungkinkan pengguna untuk berinteraksi dengan AI dengan mudah dan efisien. Dengan fitur-fitur canggih seperti analisis bahasa alami dan pemahaman konteks, ChatAP dapat memberikan layanan yang personal dan responsif. Dengan ChatAP, pengguna dapat dengan mudah mendapatkan informasi, bantuan, dan dukungan kapan pun dan di mana pun secara instan." />
		<meta
			property="og:image"
			content="https://dikaardnt.com/file/29fca788e7b48efa22ac3ac083ef42b3.jpeg" />
		<meta property="og:url" content="https://ai.apdev.my.id" />
		<meta property="og:type" content="website" />
		<link rel="icon" href="/assets/images/chatap-logo.png" type="image/x-icon" />
		<link
			rel="shortcut icon"
			href="/assets/images/chatap-logo.png"
			type="image/x-icon" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous" />
		<link
			rel="stylesheet"
			href="/assets/css/style.css"
			type="text/css"
			media="all" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
			integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer" />
		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link
			href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap"
			rel="stylesheet" />

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

		<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"
			async></script>
	</head>
	<body>
		<nav>
			<div class="logo">
				<img src="/assets/images/chatap-logo.png" alt="logo" />
				<h4>ChatAP<span>beta</span></h4>
			</div>
			<div id="show-nav" class="menu-btn">
				<i class="fa-solid fa-book"></i>
			</div>
		</nav>
		
		<div class="nav-menu hide" id="navItem">
			<div class="head">
				<a id="close-nav"><i class="fa-regular fa-square-caret-right"></i></a>
				<a href="/"><i class="fa-regular fa-pen-to-square"></i></a>
			</div>
			<div class="history-ctr">
				<ul>
                  <% for (let key in history) { %>
                    <li><a href="/chat/<%= history[key].id %>"><%= history[key].chat_title %></a></li>
                  <% } %>
                </ul>
			</div>
			<div class="foot">
				<a href="/logout"><i class="fa-solid fa-arrow-right-from-bracket"></i></a>
				<p>Account</p>
				<img width="50" src="/assets/images/chatap-logo.png" alt="logo" />
			</div>
		</div>
		

		<div class="chat-container" id="chat-container">
		    <% if (!isNewChat) { %>
		    <% lastMessage.forEach((msg) => {  %>
                <div class="chat-bubble <%= msg.role === 'assistant' ? 'chat-receiver' : 'chat-sender' %>">
                    <div class="chat-content">
                        <%= msg.content %>
                    </div>
                </div>
            <% }) %>
		    <% } %>
		</div>
		<div id="chat"></div>

		<div class="message-form">
			<div class="top" id="top">
				<div class="imagePreview">
					<img class="shadow-sm" id="imagePrev" src="" alt="image-preview" width="100" />
				</div>
			</div>
			<div class="bottom">
				<form id="message-form">
					<input type="hidden" id="chat_id" value="<%= chatId %>" />
					<div class="input-image">
						<input
							type="file"
							accept="image/*"
							name="image"
							id="imageInput"
							onchange="showPreview(event)" />
						<label for="imageInput" class="imgUpload"
							><i class="fa-solid fa-image"></i>
						</label>
					</div>
					<textarea
						id="message"
						name="message"
						required
						placeholder="Ask anything ChatAP..."></textarea>
					<button id="btnSend" class="btn-sendmsg">
						<i class="fa-solid fa-arrow-up"></i>
					</button>
				</form>
			</div>
		</div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>
		<script src="/socket.io/socket.io.js"></script>
		<script
			src="/assets/app.js"
			type="text/javascript"
			charset="utf-8"></script>
		<script>
			hljs.highlightAll();
		</script>
		<script>
		
		function copyCode(e) {
		    const t = document.getElementById(e).innerText;
		    navigator.clipboard.writeText(t);
		    alert("copiedâœ“");
	    }
	    
	    document.getElementById("show-nav").addEventListener("click", function () {
				var menu = document.getElementById("navItem");

				menu.classList.remove("hide");
				menu.classList.remove("menu-hide");
				menu.classList.add("menu-show");
			});

			document.getElementById("close-nav").addEventListener("click", function () {
				var menu = document.getElementById("navItem");

				menu.classList.remove("menu-show");
				menu.classList.add("menu-hide");

				setTimeout(function () {
					menu.classList.add("hide");
				}, 300);
			});
		
			function showPreview(event) {
				if (event.target.files.length > 0) {
					let src = URL.createObjectURL(event.target.files[0]);
					let prevCtr = document.getElementById("top");
					let imagePreview = document.getElementById("imagePrev");
					imagePreview.src = src;
					prevCtr.style.display = "block";
				}
			}
		</script>
	</body>
</html>
